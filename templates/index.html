<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Plateforme PaaS priv√©e pour le d√©ploiement automatique d'applications sur Proxmox">
    <title>PaaS Platform - Accueil</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="/" class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <path d="M16 4L4 10V22L16 28L28 22V10L16 4Z" stroke="url(#paint0_linear)" stroke-width="2"/>
                    <defs>
                        <linearGradient id="paint0_linear" x1="4" y1="4" x2="28" y2="28">
                            <stop stop-color="hsl(260, 80%, 60%)"/>
                            <stop offset="1" stop-color="hsl(200, 80%, 55%)"/>
                        </linearGradient>
                    </defs>
                </svg>
                PaaS Platform
            </a>
            <ul class="nav-links">
                <li><a href="/">Accueil</a></li>
                <li><a href="/deploy">Nouveau D√©ploiement</a></li>
                <li><a href="/dashboard">Tableau de Bord</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="section" style="padding-top: 100px;">
        <div class="container">
            <div style="max-width: 900px; margin: 0 auto; text-align: center;">
                <h1 class="fade-in">
                    D√©ployez vos applications 
                    <span class="text-gradient">en quelques clics</span>
                </h1>
                <p class="slide-up" style="font-size: 1.25rem; margin-bottom: 2rem; animation-delay: 0.2s;">
                    Une plateforme PaaS priv√©e bas√©e sur Proxmox pour d√©ployer automatiquement 
                    vos applications Django, Laravel, Node.js et plus encore.
                </p>
                <div class="slide-up" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; animation-delay: 0.4s;">
                    <a href="/deploy" class="btn btn-primary">Commencer un D√©ploiement</a>
                    <a href="/dashboard" class="btn btn-secondary">Voir les D√©ploiements</a>
                </div>

                <!-- Stats -->
                <div class="grid grid-3 mt-3" id="stats-grid">
                    <div class="card">
                        <h3 class="text-gradient" id="total-deployments">0</h3>
                        <p>D√©ploiements Total</p>
                    </div>
                    <div class="card">
                        <h3 class="text-gradient" id="active-deployments">0</h3>
                        <p>D√©ploiements Actifs</p>
                    </div>
                    <div class="card">
                        <h3 class="text-gradient" id="success-rate">100%</h3>
                        <p>Taux de R√©ussite</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section">
        <div class="container">
            <h2 class="text-center mb-3">Fonctionnalit√©s Principales</h2>
            
            <div class="grid grid-3">
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üöÄ</div>
                    <h3>D√©ploiement Rapide</h3>
                    <p>D√©ployez vos applications en quelques minutes gr√¢ce √† l'automatisation compl√®te avec Terraform.</p>
                </div>
                
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üîß</div>
                    <h3>Multi-Framework</h3>
                    <p>Support pour Django, Laravel, Express.js, React, Vue.js et de nombreux autres frameworks.</p>
                </div>
                
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üì¶</div>
                    <h3>VM ou LXC</h3>
                    <p>Choisissez entre des machines virtuelles compl√®tes ou des conteneurs l√©gers selon vos besoins.</p>
                </div>
                
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üîó</div>
                    <h3>Int√©gration GitHub</h3>
                    <p>D√©ployez directement depuis vos d√©p√¥ts GitHub publics ou priv√©s.</p>
                </div>
                
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üìä</div>
                    <h3>Gestion Simplifi√©e</h3>
                    <p>Interface intuitive pour g√©rer tous vos d√©ploiements depuis un seul endroit.</p>
                </div>
                
                <div class="card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üîí</div>
                    <h3>S√©curis√©</h3>
                    <p>Infrastructure priv√©e avec isolation compl√®te entre les d√©ploiements.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Frameworks Section -->
    <section class="section">
        <div class="container">
            <h2 class="text-center mb-3">Frameworks Support√©s</h2>
            
            <div class="grid grid-4" id="frameworks-grid">
                <!-- Frameworks will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section">
        <div class="container">
            <div class="card" style="text-align: center; padding: 3rem;">
                <h2 class="mb-2">Pr√™t √† d√©ployer votre premi√®re application ?</h2>
                <p style="font-size: 1.125rem; margin-bottom: 2rem;">
                    Commencez maintenant et d√©ployez votre application en quelques minutes.
                </p>
                <a href="/deploy" class="btn btn-primary">Cr√©er un D√©ploiement</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer style="padding: 2rem 0; text-align: center; border-top: 1px solid var(--border);">
        <div class="container">
            <p style="color: var(--text-secondary);">
                &copy; 2025 PaaS Platform. Propuls√© par Proxmox & Terraform.
            </p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        // Load statistics
        async function loadStats() {
            try {
                const response = await fetch('/api/stats');
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('total-deployments').textContent = data.stats.total_deployments;
                    document.getElementById('active-deployments').textContent = data.stats.running_deployments;
                    document.getElementById('success-rate').textContent = 
                        data.stats.success_rate.toFixed(1) + '%';
                }
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Load supported frameworks
        async function loadFrameworks() {
            try {
                const response = await fetch('/api/frameworks');
                const data = await response.json();
                
                if (data.success) {
                    const grid = document.getElementById('frameworks-grid');
                    
                    Object.entries(data.frameworks).forEach(([key, framework]) => {
                        const card = document.createElement('div');
                        card.className = 'card';
                        card.innerHTML = `
                            <h3>${framework.name}</h3>
                            <p style="font-size: 0.9rem; color: var(--text-secondary);">
                                ${framework.language} ‚Ä¢ Port ${framework.port}
                            </p>
                        `;
                        grid.appendChild(card);
                    });
                }
            } catch (error) {
                console.error('Error loading frameworks:', error);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadStats();
            loadFrameworks();
        });
    </script>
</body>
</html>
