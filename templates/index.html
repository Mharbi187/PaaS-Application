<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Plateforme PaaS privÃ©e pour le dÃ©ploiement automatique d'applications sur Proxmox">
    <title>PaaS Platform - DÃ©ploiement Cloud SimplifiÃ©</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="/" class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <defs>
                        <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea" />
                            <stop offset="100%" style="stop-color:#764ba2" />
                        </linearGradient>
                    </defs>
                    <path d="M20 5L5 13V27L20 35L35 27V13L20 5Z" stroke="url(#logoGrad)" stroke-width="2.5"
                        fill="none" />
                    <circle cx="20" cy="20" r="6" fill="url(#logoGrad)" opacity="0.3" />
                    <circle cx="20" cy="20" r="3" fill="url(#logoGrad)" />
                </svg>
                CloudDeploy
            </a>
            <ul class="nav-links">
                <li><a href="/" class="active">Accueil</a></li>
                <li><a href="/deploy">Nouveau DÃ©ploiement</a></li>
                <li><a href="/dashboard">Tableau de Bord</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1>DÃ©ployez vos Applications<br>en un Clic</h1>
                <p class="hero-subtitle">
                    Plateforme PaaS privÃ©e propulsÃ©e par Proxmox. DÃ©ployez Django, Laravel, React,
                    Node.js et plus encore en quelques minutes.
                </p>
                <div class="hero-actions">
                    <a href="/deploy" class="btn btn-primary">
                        ðŸš€ Commencer un DÃ©ploiement
                    </a>
                    <a href="/dashboard" class="btn btn-secondary">
                        ðŸ“Š Voir le Dashboard
                    </a>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-3" id="stats-grid">
                    <div class="card stat-card">
                        <div class="stat-value" id="total-deployments">0</div>
                        <div class="stat-label">DÃ©ploiements Total</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value success" id="active-deployments">0</div>
                        <div class="stat-label">Applications Actives</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="success-rate">100%</div>
                        <div class="stat-label">Taux de RÃ©ussite</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section">
        <div class="container">
            <h2 class="text-center mb-3">Pourquoi Choisir CloudDeploy ?</h2>

            <div class="grid grid-3">
                <div class="card fade-in" style="animation-delay: 0.1s">
                    <div class="feature-icon">ðŸš€</div>
                    <h3>DÃ©ploiement Ultra-Rapide</h3>
                    <p>Infrastructure provisionnÃ©e automatiquement avec Terraform. De zÃ©ro Ã  production en minutes.</p>
                </div>

                <div class="card fade-in" style="animation-delay: 0.2s">
                    <div class="feature-icon">ðŸ”§</div>
                    <h3>Multi-Framework</h3>
                    <p>Django, Laravel, Express, React, Vue.js, Next.js, FastAPI et bien plus supportÃ©s nativement.</p>
                </div>

                <div class="card fade-in" style="animation-delay: 0.3s">
                    <div class="feature-icon">ðŸ“¦</div>
                    <h3>VM ou Conteneur LXC</h3>
                    <p>Choisissez entre isolation complÃ¨te (VM) ou performance maximale (LXC) selon vos besoins.</p>
                </div>

                <div class="card fade-in" style="animation-delay: 0.4s">
                    <div class="feature-icon">ðŸ”—</div>
                    <h3>IntÃ©gration GitHub</h3>
                    <p>DÃ©ployez directement depuis vos dÃ©pÃ´ts GitHub. Push to deploy en toute simplicitÃ©.</p>
                </div>

                <div class="card fade-in" style="animation-delay: 0.5s">
                    <div class="feature-icon">ðŸ“Š</div>
                    <h3>Dashboard Intuitif</h3>
                    <p>GÃ©rez tous vos dÃ©ploiements, surveillez les ressources et accÃ©dez Ã  vos apps depuis un seul
                        endroit.</p>
                </div>

                <div class="card fade-in" style="animation-delay: 0.6s">
                    <div class="feature-icon">ðŸ”’</div>
                    <h3>Infrastructure PrivÃ©e</h3>
                    <p>Vos donnÃ©es restent sur votre infrastructure. Isolation complÃ¨te entre les dÃ©ploiements.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Frameworks Section -->
    <section class="section">
        <div class="container">
            <h2 class="text-center mb-3">Frameworks SupportÃ©s</h2>
            <div class="grid grid-4" id="frameworks-grid">
                <!-- Frameworks loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section">
        <div class="container">
            <div class="card card-glow" style="text-align: center; padding: 4rem 2rem;">
                <h2 class="mb-2">PrÃªt Ã  DÃ©ployer ?</h2>
                <p
                    style="font-size: 1.125rem; margin-bottom: 2rem; max-width: 500px; margin-left: auto; margin-right: auto;">
                    Lancez votre premiÃ¨re application en quelques clics. Aucune configuration complexe requise.
                </p>
                <a href="/deploy" class="btn btn-primary">
                    ðŸš€ CrÃ©er un DÃ©ploiement
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Â© 2025 CloudDeploy PaaS Platform. PropulsÃ© par Proxmox & Terraform.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        // Load statistics
        async function loadStats() {
            try {
                const response = await fetch('/api/stats');
                const data = await response.json();

                if (data.success) {
                    document.getElementById('total-deployments').textContent = data.stats.total_deployments;
                    document.getElementById('active-deployments').textContent = data.stats.running_deployments;
                    document.getElementById('success-rate').textContent = data.stats.success_rate.toFixed(0) + '%';
                }
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Load supported frameworks
        async function loadFrameworks() {
            try {
                const response = await fetch('/api/frameworks');
                const data = await response.json();

                if (data.success) {
                    const grid = document.getElementById('frameworks-grid');
                    const icons = {
                        django: 'ðŸ', laravel: 'ðŸ”´', express: 'ðŸŸ¢', flask: 'ðŸŒ¶ï¸',
                        fastapi: 'âš¡', react: 'âš›ï¸', vuejs: 'ðŸ’š', nextjs: 'â–²'
                    };

                    Object.entries(data.frameworks).forEach(([key, framework], index) => {
                        const card = document.createElement('div');
                        card.className = 'card fade-in';
                        card.style.animationDelay = `${index * 0.1}s`;
                        card.innerHTML = `
                            <div style="font-size: 2.5rem; margin-bottom: 0.75rem;">${icons[key] || 'ðŸ“¦'}</div>
                            <h4>${framework.name}</h4>
                            <p style="font-size: 0.85rem; margin: 0;">
                                ${framework.language} â€¢ Port ${framework.port}
                            </p>
                        `;
                        grid.appendChild(card);
                    });
                }
            } catch (error) {
                console.error('Error loading frameworks:', error);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadStats();
            loadFrameworks();
        });
    </script>
</body>

</html>